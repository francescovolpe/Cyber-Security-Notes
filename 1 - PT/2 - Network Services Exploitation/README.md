<details>
<summary>$\huge{\text{21 - FTP}}$</summary>

- Connect to ftp server
  - `ftp <ip>` and then login
- Check anonymous login (with nmap script ftp-anon or anonymous user)
- If you have a username try using it as password
- Brute force login
- Search exploit for vulnerable version
  
<br>
</details>

<details>
<summary>$\huge{\text{22 - SSH}}$</summary>

- Connect to SSH
  - `ssh <username>@<ip>` and then login
- If you have a username try using it as password
- Brute force login
- Search exploit for vulnerable version

<br>
</details>

<details>
<summary>$\huge{\text{25 - SMTP}}$</summary>

- Search exploit for vulnerable version
- Retrieve the hostname of the server (domain name)
  - ```
    root@debian:~# nc <ip> <port>
    220 openmailbox.xyz ESMTP Postfix: Welcome to our mail server.    <--- here (in the banner)
    helo whatyouwant                                                  <--- helo command
    250 openmailbox.xyz                                               <--- here
    ```
- Username Bruteforce
  - Automation:
    - `smtp-user-enum -U <path_to_wordlist> -t <ip>`
  - Manual
       ```
       root@debian:~# nc <ip> <port>
       220 openmailbox.xyz ESMTP Postfix: Welcome to our mail server.
       VRFY  root
       252 2.0.0 root                                                 <--- Output if user exists
       VRFY  idontexists
       550 5.1.1 <idontexists>: Recipient address rejected: User unknown in local recipient table
       ```
  - NOTE: there are other command you can use such as `RCPT TO`

<details>
<summary>More info abount HELO/EHLO</summary>

- The `HELO` command initiates the SMTP session conversation. The client greets the server and introduces itself. As a rule, `HELO` is attributed with an argument that specifies the domain name or IP address of the SMTP client.
- Example: `HELO client.net`
- `EHLO` is an alternative to `HELO` for servers that support the SMTP service extensions (ESMTP). If the server does not support ESMTP, it will reply with an error.
- Example: `EHLO client.net`

</details>

<br>
</details>

<details>
<summary>$\huge{\text{80 - WebDav}}$</summary>

- With WebDav you can upload file. Normally it's necessary credentials
  - Bruteforce (it's simple HTTP Basic Authentication)
- You can automate the upload and execution of file
  - davtest
    - `davtest -auth <user>:<password> -url http://<ip>/<path_to_webdav>`
    - `davtest --url http://<ip>/<path_to_webdav> -auth <user>:<password> -uploadfile /path/to/webshell.asp -uploadloc /destination/webshell.asp`
  - cadaver
    - `cadaver http://<ip>/<path_to_webdav>` and then login. PUT command to upload a file/shell
<br>
</details>

<details>
<summary>$\huge{\text{80 - PHP}}$</summary>

- Famous exploit: php_cgi_arg_injection (up to version 5.3.12 and 5.4.2 )

<br>
</details>

<details>
<summary>$\huge{\text{139/445 - SMB | Samba}}$</summary>

- If you have a username try using it as password
- Brute force login
- Search exploit for vulnerable version
- If v1 is enabled - EternalBlue exploit (check with nmap --> smb-protocols)
- List shared folders
  - `smbclient --no-pass -L //<IP>` Null user
  - `smbclient -U 'username[%passwd]' -L [--pw-nt-hash] //<IP>` If you omit the pwd, it will be prompted. With --pw-nt-hash, the pwd provided is the NT hash
    - Example: `smbclient -U 'admin%admin' -L //<IP>`
- Obtain Information
  - `enum4linux -a [-u "<username>" -p "<passwd>"] <IP>`
- Command execution (authenticated)
  - `smbmap -H <ip> -u <user> -p <pass> -x 'ipconfig'`
  - psexec (impacket or metasploit)
    - can be used to pass NTLM hashes as password
    - `python3 psexec.py Administrator@ip`

<br>
</details>

<details>
<summary>$\huge{\text{3306 - MYSQL}}$</summary>

- Connect: `mysql -h <Hostname> -u root`
- If you have a username try using it as password
- Brute force login
  - Try with `root` default user

<br>
</details>

#### Other ports
Most of the services identified by the Nmap scan are easily recognizable, however, it's possibile that there are a few open ports on a target system that do not have a service banner. To learn more about these port and the service running, we can perform banner grabbing with Netcat
- `netcat <ip> <port>`

